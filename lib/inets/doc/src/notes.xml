<?xml version="1.0" encoding="latin1" ?>
<!DOCTYPE chapter SYSTEM "chapter.dtd">

<chapter>
  <header>
    <copyright>
      <year>2002</year><year>2010</year>
      <holder>Ericsson AB. All Rights Reserved.</holder>
    </copyright>
    <legalnotice>
      The contents of this file are subject to the Erlang Public License,
      Version 1.1, (the "License"); you may not use this file except in
      compliance with the License. You should have received a copy of the
      Erlang Public License along with this software. If not, it can be
      retrieved online at http://www.erlang.org/.

      Software distributed under the License is distributed on an "AS IS"
      basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See
      the License for the specific language governing rights and limitations
      under the License.

    </legalnotice>
    
    <title>Inets Release Notes</title>
    <prepared></prepared>
    <responsible></responsible>
    <docno></docno>
    <approved></approved>
    <checked></checked>
    <date>2002-02-28</date>
    <rev>A</rev>
    <file>notes.xml</file>
  </header>
  
  <section><title>Inets 5.3.2</title>

    <section><title>Improvements and New Features</title>
      <p>-</p>

<!--
      <list>
        <item>
	  <p>[httpc] - Allow users to pass socket options to the transport 
            module when making requests. </p> 
          <p>See the <c>socket_opts</c> option in the 
            <seealso marker="httpc#request2">request/4</seealso> or 
            <seealso marker="httpc#set_options">set_options/1,2</seealso>
            for more info, </p>
	  <p>Own Id: OTP-8352</p>
        </item>

      </list>
-->
    </section>

    <section><title>Fixed Bugs and Malfunctions</title>

<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpc] - Memory leak plugged. 
            The profile manager never cleaned up in its handler database. 
            This meant that with each new request handler, another entry 
            was created that was never deleted. Eventually the request
            id counter (used as a key) would wrap, but the machine would 
            most likely run out of memory before that happened.</p>
	  <p>Own Id: OTP-8542</p>
          <p>Lev Walkin</p>
        </item>

      </list>
    </section>

  </section> <!-- 5.3.2 -->


  <section><title>Inets 5.3.1</title>

    <section><title>Improvements and New Features</title>
      <p>-</p>

<!--
      <list>
        <item>
	  <p>[httpc] - Allow users to pass socket options to the transport 
            module when making requests. </p> 
          <p>See the <c>socket_opts</c> option in the 
            <seealso marker="httpc#request2">request/4</seealso> or 
            <seealso marker="httpc#set_options">set_options/1,2</seealso>
            for more info, </p>
	  <p>Own Id: OTP-8352</p>
        </item>

      </list>
-->
    </section>

    <section><title>Fixed Bugs and Malfunctions</title>

<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpc] - Badly formated error reason for errors occuring 
            during initial connect to a server. 
            Also, the possible error reasons was 
            not properly documented.</p>
	  <p>Own Id: OTP-8508</p>
	  <p>Aux Id: seq11407</p>
        </item>

        <item>
	  <p>[httpd] - Issues with ESI erl_script_timeout. </p>
          <p>
            <list type="bulleted">
	      <item>
		<p>The <c>erl_script_timeout</c> config option is ducumented
                  as a number of seconds. But when parsing the config, in the
                  new format (not a config file), it was handled as if in
                  number of milliseconds. </p>
              </item>
	      <item>
		<p>When the erl-script-timeout time was exceeded, the server
                  incorrectly marked the answer as sent, thereby leaving 
                  client hanging (with an incomplete answer).
                  This has been changed, so that now the socket will be
                  closed. </p>
	      </item>
	    </list>
	  </p>
	  <p>Own Id: OTP-8509</p>
        </item>
      </list>
    </section>

  </section> <!-- 5.3.1 -->


  <section><title>Inets 5.3</title>

    <section><title>Improvements and New Features</title>
<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpc] - Allow users to pass socket options to the transport 
            module when making requests. </p> 
          <p>See the <c>socket_opts</c> option in the 
            <seealso marker="httpc#request2">request/4</seealso> or 
            <seealso marker="httpc#set_options">set_options/1,2</seealso>
            for more info, </p>
	  <p>Own Id: OTP-8352</p>
        </item>

        <item>
          <p>[httpc] Fix bug crafting Host header when port is not 80. </p>
          <p>The host header should include the port number as well as the 
            host name when making a request to a server listening on a port 
            other than the HTTP default of 80. Currently, only the host 
            name is included. This is important to make the http client 
            more compliant with the HTTP specification. </p>
          <p>Own Id: OTP-8371</p>
          <p>Kelly McLaughlin</p>
        </item>

        <item>
	  <p>[httpc|httpd] http_chunk data handling/passing improvement. </p> 
          <p>This is a modification to the http_chunk module to forward any 
            full chunk received, regardless of whether the size field for the 
            following chunk has been received yet.  This allows http_chunk to 
            be used in situations where a long term HTTP connection is used to 
            send periodic status updates as individual chunks.  Previously a 
            given chunk would not be forwarded to the client process until the 
            size for the next chunk had been read which rendered the module 
            difficult to use for the scenario described. </p>
          <p>Bernard Duggan</p>
	  <p>Own Id: OTP-8351</p>
        </item>

        <item>
	  <p>Include the inets test suite in the release of the 
            application. </p> 
	  <p>Own Id: OTP-8349</p>
        </item>
	
        <item>
	  <p>[httpc] - It is now possible to configure the client to 
            deliver an async reply to more receivers then the calling 
            process. </p> 
          <p>See the 
            <seealso marker="httpc#request2">receiver</seealso>
            option for more info, </p>
	  <p>Own Id: OTP-8106</p>
        </item>
	
	<item>
	  <p>[httpd] - Methods "PUT" and "DELETE" now allowed. </p> 
          <p>huntermorris@gmail.com</p>
	  <p>Own Id: OTP-8103</p>
        </item>

        <item>
          <p>[httpc] Several more or less critical fixes:</p>
          <p>
            <list type="bulleted">
	      <item>
		<p>Initial call between the httpc manager and request 
                  handler was synchronous. </p>
		<p>When the manager starts a new request handler, 
                  this is no longer a synchronous operation. Previously, 
                  the new request handler made the connection to the 
                  server and issuing of the first request (the reason 
                  for starting it) in the gen_server init function. 
                  If the connection for some reason "took some time", 
                  the manager hanged, leaving all other activities by 
                  that manager also hanging. </p>
              </item>
<!--
	      <item>
	        <p>Copying of data between processes</p>
	        <p>TBD</p>
	      </item>
	      <item>
	        <p>Reading of requests</p>
	        <p>TBD</p>
	      </item>
-->
	    </list>
	  </p>
          <p>As a side-effect of these changes, some modules was also 
            renamed, and a new api module, 
            <seealso marker="httpc">httpc</seealso>, has been introduced
            (the old module <c>http</c> is <em>not</em> removed, but is 
            now just wrapper for <c>httpc</c>). </p>
          <p>Own Id: OTP-8016</p>
	  <p>*** POTENTIAL INCOMPATIBILITY ***</p>
        </item>
      </list>
    </section>

    <section><title>Fixed Bugs and Malfunctions</title>

<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpd] The server did not fully support the documented module
            callback api. Specifically, the load function should be able to
            return the atom <c>ok</c>, but this was not accepted. </p>
	  <p>Own Id: OTP-8359</p>
        </item>

        <item>
          <p>Fixing various documentation-related bugs (bad quotes).</p>
          <p>Own Id: OTP-8327</p>
        </item>

        <item>
	  <p>Fixing minor Dialyzer and copyright problem(s). </p>
	  <p>Own Id: OTP-8315</p>
        </item>

        <item>
	  <p>[httpc] - Added basic sanity check of option value 
            combinations.</p>
          <p>adam.kocoloski@gmail.com</p>
	  <p>Own Id: OTP-8056</p>
        </item>
      </list>
    </section>

  </section> <!-- 5.3 -->


  <section><title>Inets 5.2</title>

    <section><title>Improvements and New Features</title>
<!--
      <p>-</p>
-->
        <list>
          <item>
	    <p>[ftpc] - Start of the FTP client has been changed in 
              the following way: </p>
	      <list type="bulleted">
		<item>
		  <p>It is now also possible to start a standalone FTP client 
		    process using the re-introduced  
                    <seealso marker="ftp#open">ftp:open</seealso> 
                    function. </p>
                  <p>This is an alternative to starting the client using the 
		    <seealso marker="ftp#service_start">inets service framework</seealso>. </p>
		  <p>The old <c>ftp:open/1</c>, undocumented, function, 
                    caused the client to be hooken into the inets service
                    supervision framework. This is <em>no</em> longer the
                    case. </p>
                  <p>*** POTENTIAL INCOMPATIBILITY ***</p>
		</item>
		<item>
                  <p>Previously, the FTP client attempted to use IPv6, 
                    unless otherwise instructed (the <c>ip_v6_disabled</c> 
                    flag), and only used IPv4 if this did not work. 
                    This has now been <em>changed</em>. </p>
                  <p>A new option, 
                    <seealso marker="ftp#ipfamily">ipfamily</seealso>, 
                    has been introduced, with the default value 
                    <c>inet</c> (IPv4). </p>
                  <p>See <seealso marker="ftp#open">ftp:open</seealso> 
                    for more info.</p>
                  <p>*** POTENTIAL INCOMPATIBILITY ***</p>
		</item>
              </list>
	    <p>Own Id: OTP-8258</p>
	    <!-- <p>Aux Id: seq11407</p> -->
	  </item>

          <item>
            <p>The documentation is now built with open source tools 
              (<em>xsltproc</em> and <em>fop</em>) that exists on most 
              platforms. One visible change is that the frames are removed.</p>
            <p>Own Id: OTP-8249</p>
          </item>

        </list>
    </section>

    <section><title>Fixed Bugs and Malfunctions</title>

<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpc] - Streaming to file did not work.</p>
          <p>dizzyd@gmail.com</p>
	  <p>Own Id: OTP-8204</p>
        </item>

        <item>
	  <p>[ftpc] - The 
            <seealso marker="ftp#ls2">ls/2</seealso> function (LIST command) 
            and the 
            <seealso marker="ftp#nlist2">nlist/2</seealso> function 
            (NLST command) 
            with wildcards did 
            not work properly. </p>
          <p>These functions is documented as working on directories, but 
            this is actually not according the standard. The LIST and NLST
            commands are specified to operate on a directory or other 
            group of files, or a file.</p>
          <p>Previously, an attempt was made to check if the listing
            returned by the server was actually an error message. This
            was done by changing remote directory (cd) into the 
            (assumed) "directory". This may work if Pathname was actually 
            a directory, but as this is not always the case, this test 
            does not work. Instead, we now return the actual server 
            result and leave the interpretation to the caller. </p>
          <p>*** POTENTIAL INCOMPATIBILITY ***</p>
	  <p>Own Id: OTP-8247</p>
	  <p>Aux Id: seq11407</p>
        </item>

        <item>
	  <p>[httpc] - Fixes various bugs in timeout and keep-alive queue 
            handling. </p>
          <list type="bulleted">
            <item>
              <p>When a queued request times, out the error mssage is sent 
                the owner of the active request. </p>
	    </item>

            <item>
              <p>Requests in the keep-alive queue is forgotten when 
                handler terminates. </p>
	    </item>

            <item>
              <p>Timeout out requests are retried. </p>
	    </item>
          </list>
          <p>Jean-S&#233;bastien P&#233;dron</p>
	  <p>Own Id: OTP-8248</p>
        </item>

        <item>
	  <p>[httpd] - Unnecessarily strict matching when handling closing sockets. </p>
	  <p>Own Id: OTP-8280</p>
        </item>

      </list>
    </section>

  </section> <!-- 5.2 -->


  <section><title>Inets 5.1.3</title>

    <section><title>Improvements and New Features</title>
      <p>-</p>
<!--
        <list>
          <item>
            <p>[httpc] Added support for web services using only basic auth,
              with a token as the user part and no password part.</p>
            <p>twoggle@gmail.com</p>
            <p>Own Id: OTP-7998</p>
          </item>

        </list>
-->
    </section>

    <section><title>Fixed Bugs and Malfunctions</title>

<!--
      <p>-</p>
-->

      <list>
        <item>
	  <p>[httpc] - Raise condition. 
            When http:request is called and httpc_manager selects a session 
            where there's already a pending request, then the connection 
            handler for that session effectively resets its parser, readying
            it for the response to the second request. But if there are still 
            some inbound packets for the response to the first request, things 
            get confused.</p>
          <p>tomas.abrahamsson@gmail.com</p>
	  <p>Own Id: OTP-8154</p>
        </item>

      </list>
    </section>

  </section> <!-- 5.1.3 -->


  <section><title>Inets 5.1.2</title>
<!--
        <p>-</p>
-->

      <section><title>Improvements and New Features</title>
<!--
        <p>-</p>
-->

        <list>
	  <item>
	    <p>[httpc] - Added http option <c>connect_timeout</c> for http 
              client request.
              The <c>connect_timeout</c> option is used for the initial 
              request, when the client connects to the server. Default 
              value is that of the <c>timeout</c> option. </p>
            <p>See the 
	      <seealso marker="httpc#request2">request/4,5</seealso> 
              function for more info. </p>
	    <p>Own Id: OTP-7298</p>
	    <!-- <p>Aux Id: seq11086</p> -->
          </item>

        </list>
      </section>


      <section><title>Fixed Bugs and Malfunctions</title>
<!--
        <p>-</p>
-->

        <list>
	  <item>
	    <p>[httpd] - Failed to create listen socket with invalid 
              option combo. The http-server failed to create its listen 
              socket when the bind-address was an IPv4-address (a tuple of
              size 4) and the ipfamily option was inet6fb4. </p>
	    <p>Own Id: OTP-8118</p>
	    <p>Aux Id: seq11321</p>
          </item>

	  <item>
	    <p>[httpd] - Removed documentation for non-existing function 
              (httpd_util:header/2,3,4). </p>
	    <p>Own Id: OTP-8101</p>
	    <!-- <p>Aux Id: seq11321</p> -->
          </item>

        </list>
      </section>

  </section> <!-- 5.1.2 -->


  <section><title>Inets 5.1.1</title>
<!--
        <p>-</p>
-->

      <section><title>Improvements and New Features</title>
        <list>
	  <item>
	    <p>[httpd] - When starting inets (the web-server) and supplying 
              a descriptor on the command line 
              (example: erl -httpd_8888 &lt;descriptor&gt;) 
              it is now possible to specify which ip-family to use:
              <c>inet | inet6 | inet6fb4</c>. </p>
            <p>Example: erl -httpd_8888 10|inet6</p>
            <p>When starting the web-server either using a file with 
              property list (the proplist_file) or a an property list,
              using the ipfamily option: 
              <c>{ipfamily, inet | inet6 | inet6fb4}</c>. </p>
            <p>Finally, when starting the web-server using the classical
              apache-style config file, the <c>BindAddress</c> directive
              has been augmented to allow the specification of the 
              IpFamily: <c>BindAddress blirk.ericsson.se|inet</c></p>
            <p>Default is <c>inet6fb4</c> which emulates the 
              behaviour of the previous version. </p>
            <p>See the 
	      <seealso marker="httpd#comm_prop">Communication properties</seealso> 
              section for more info. </p>
	    <p>Own Id: OTP-8069</p>
	    <p>Aux Id: seq11086</p>
          </item>

        </list>
      </section>


      <section><title>Fixed Bugs and Malfunctions</title>
<!--
        <p>-</p>
-->

        <list>
	  <item>
	    <p>[httpc] - Reception of unexpected data causes handler crash. </p>
	    <p>Own Id: OTP-8052</p>
          </item>

        </list>
      </section>

  </section> <!-- 5.1.1 -->


  <section><title>Inets 5.1</title>

      <section><title>Improvements and New Features</title>
        <list>
          <item>
            <p>[httpc] Added support for web services using only basic auth,
              with a token as the user part and no password part.</p>
            <p>twoggle@gmail.com</p>
            <p>Own Id: OTP-7998</p>
          </item>

	  <item>
	    <p>[httpc] - Bind HTTP client to IP-addr. It is now possible 
              to specify an alternate ip-address and port to be used when 
              the client connects to the server. </p>
	    <p>As a side-effect of this, the option <c>ipv6</c> has been 
              removed and replaced by the <c>ipfamily</c> option. </p>
	    <p>See <seealso marker="httpc#set_options">http:set_options/1,2</seealso> 
              for more info. </p>
            <p>*** POTENTIAL INCOMPATIBILITY ***</p>
	    <p>Own Id: OTP-8004</p>
          </item>

        </list>
      </section>


      <section><title>Fixed Bugs and Malfunctions</title>
<!--
        <p>-</p>
-->

        <list>
          <item>
            <p>Updated guard tests (i.e. is_list(L) instead of
              list(L) and possibly andalso/orelse instead of ","/";"). </p>
            <p>Own Id: OTP-7994</p>
          </item>

          <item>
            <p>[httpc] - Remove use of the deprecated regexp module. </p>
            <p>Own Id: OTP-8001</p>
          </item>

	  <item>
	    <p>[httpc] - The option <c>max_keep_alive_length</c> was 
              not handled properly. </p>
	    <p>Own Id: OTP-8005</p>
          </item>


        </list>
      </section>

  </section> <!-- 5.1 -->


  <section><title>Inets 5.0.14</title>

      <section><title>Improvements and New Features</title>
        <list>
          <item>
            <p>
              [tftp] The callback watchdog has been removed, as it
              turned out to be counter productive when the disk was
              overloaded. Earlier a connection was aborted when a
              callback (which performs the file access in the TFTP
              server) took too long time.</p>
            <p>
              [tftp] The error message "Too many connections" has been
              reclassified to be a warning.</p>
            <p>
              Own Id: OTP-7888</p>
          </item>
        </list>
      </section>


      <section><title>Fixed Bugs and Malfunctions</title>
        <list>
	  <item>
	    <p>[httpc] - Incorrect http version option check. </p>
            <p>Mats Cronqvist</p>
	    <p>Own Id: OTP-7882</p>
          </item>

	  <item>
	    <p>[httpc] - Unnecessary error report when client 
              terminating as a result of the server closed the 
              socket unexpectedly. </p>
	    <p>Own Id: OTP-7883</p>
          </item>

	  <item>
	    <p>[httpc] - Failed transforming a relative URI to 
              an absolute URI. </p>
            <p>mtalyans@cisco.com</p>
	    <p>Own Id: OTP-7950</p>
          </item>

	  <item>
	    <p>[httpd] - The HTTP server did not handle the config
              option ssl_ca_certificate_file. </p>
            <p>karol.skocik@gmail.com</p>
	    <p>Own Id: OTP-7976</p>
          </item>

        </list>
      </section>

  </section> <!-- 5.0.14 -->


  <section><title>Inets 5.0.13</title>
  
  <section><title>Fixed Bugs and Malfunctions</title>
      <list>
	<item>
	  <p>
	    Ssl did not work correctly with the use of new style
	    configuration due to sn old internal format that was not
	  changed correctly in all places.</p>
	  <p>
            Own Id: OTP-7723 Aux Id: seq11143 </p>
        </item>
        <item>
          <p>
            [httpc] - Now streams 200 and 206 results and not only
            200 results.</p>
          <p>
            Own Id: OTP-7857</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            [httpc] - The inets http client will now use persistent
            connections without pipelining as default and if a
            pipeline timeout is set it will pipeline the requests on
            the persistent connections.</p>
          <p>
            *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
            Own Id: OTP-7463</p>
        </item>
        <item>
          <p>
            [httpd] - added option ssl_password_callback_arguments.</p>
          <p>
            Own Id: OTP-7724 Aux Id: seq11151 </p>
        </item>
        <item>
          <p>
            Changed the socket use so that it will become more robust
            to non-functional ipv6 and fallback on ipv4. This changes
            may for very special os-configurations cause a problem
            when used with erts-versions pre R13.</p>
          <p>
            Own Id: OTP-7726</p>
        </item>
        <item>
          <p>
            Removed deprecated function httpd_util:key1search/[2,3]</p>
          <p>
            Own Id: OTP-7815</p>
        </item>
      </list>
    </section>

  </section>

  <section><title>Inets 5.0.12</title>
  
  <section><title>Improvements and New Features</title>
  <list>
    <item>
      <p>
	[httpd] - Updated inets so that it not uses the deprecated
	function ssl:accept/[2,3].</p>
      <p>
      Own Id: OTP-7636 Aux Id: seq11086 </p>
    </item>
      </list>
  </section>
  
  </section>

  
  <section><title>Inets 5.0.11</title>

  <section><title>Fixed Bugs and Malfunctions</title>
  <list>
    <item>
      <p>
	Transient bug related to hot code swap of the TFTP server is
	now fixed. It could happen that the first TFTP server that was
	started after a code upgrade to Inets-5.0.6 crashed with a
	function clause error in tftp_engine:service_init/2.</p>
	<p> Own Id: OTP-7574 Aux Id: seq11069 </p>
        </item>
	<item>
	  <p>
	    [httpd] - Validation of ssl_password_callback_module was
	  incorrect.</p>
	  <p>
	  Own Id: OTP-7597 Aux Id: seq11074 </p>
	</item>
	<item>
	  <p>
	    [httpd] - Misspelling in old apachelike configuration
	  directive TransferDiskLogSize has been corrected.</p>
	  <p> Own Id: OTP-7598 Aux Id: seq11059 </p>
	</item>
	<item>
	  <p>
	  Minor problems found by dialyzer has been fixed.</p>
	  <p>
            Own Id: OTP-7605</p>
        </item>
  </list>
  </section>

  </section>

<section><title>Inets 5.0.10</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Enhanched an info report.</p>
          <p>
            Own Id: OTP-7450</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Changed errro message from
            {wrong_type,{document_root,"/tmp/htdocs"}} to
            {invalid_option,{non_existing,
            document_root,"/tmp/htdocs"}}.</p>
          <p>
            Own Id: OTP-7454</p>
        </item>
        <item>
          <p>
            Relative paths in directory authentication did not work
            as intended, this has now been fixed.</p>
          <p>
            Own Id: OTP-7490</p>
        </item>
        <item>
          <p>
            The query-string passed to the callback function was not
            compliant with the documentation, it is now.</p>
          <p>
            Own Id: OTP-7512</p>
        </item>
      </list>
    </section>

</section>

  <section><title>Inets 5.0.9</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Parameters to error_logger:error_report/1 has been
            corrected.</p>
          <p>
            Own Id: OTP-7257 Aux Id: OTP-7294, OTP-7258 </p>
        </item>
        <item>
          <p>
            [httpd] - If a Module/Function request matching an
	    erl_script_alias registration does not exist as a function in
	    the module registered a 404 error will now be issued instead of a
            500 error.</p>
          <p>
            Own Id: OTP-7323</p>
        </item>
        <item>
          <p>
            [httpd] -The option auth_type for mod_auth is no longer
	    mandatory, for backward-compatibility reasons.</p>
          <p>
            Own Id: OTP-7341</p>
        </item>
      </list>
    </section>

  </section>

  <section><title>Inets 5.0.8</title>
  
  <section><title>Fixed Bugs and Malfunctions</title>
  <list>
    <item>
      <p>
	[httpd] - Spelling error caused client connection header
      to be ignored.</p>
      <p>
      Own Id: OTP-7315 Aux Id: seq10951 </p>
    </item>
    <item>
      <p>
	[httpd] - Call to the function
	mod_get:get_modification_date/1 was made too early
	resulting in that httpd did not send the 404 file missing
      response.</p>
      <p>
      Own Id: OTP-7321</p>
    </item>
  </list>
  </section>
  
  </section>

  <section><title>Inets 5.0.7</title>
  
  <section><title>Improvements and New Features</title>
  <list>
    <item>
	  <p>
	    [httpc, httpd] - Now follows the recommendation regarding
	    line terminators in section 19.3 in RFC 2616 e.i: "The
	    line terminator for message-header fields is the sequence
	    CRLF. However, we recommend that applications, when
	    parsing such headers, recognize a single LF as a line
	  terminator and ignore the leading CR".</p>
	  <p>
	  Own Id: OTP-7304 Aux Id: seq10944 </p>
    </item>
  </list>
  </section>
  
  </section>
  
  <section><title>Inets 5.0.6</title>

  <section><title>Improvements and New Features</title>
  <list>
        <item>
          <p>
            [tftp] If a callback (which performs the file access in
            the TFTP server) takes too long time (more than the
	    double TFTP timeout), the server will abort the
            connection and send an error reply to the client. This
	    implies that the server will release resources attached
            to the connection faster than before. The server simply
            assumes that the client has given up.</p>
          <p>
            [tftp] If the TFTP server receives yet another request
            from the same client (same host and port) while it
            already has an active connection to the client, it will
            simply ignore the new request if the request is equal
            with the first one (same filename and options). This
            implies that the (new) client will be served by the
            already ongoing connection on the server side. By not
            setting up yet another connection, in parallel with the
            ongoing one, the server will consumer lesser resources.</p>
          <p>
            [tftp] netascii mode is now supported when the
            client/server has native ascii support (Windows). The new
            optional parameter native_ascii in the tftp_binary and
            tftp_file callback modules can be used to override the
            default behavior.</p>
          <p>
            [tftp] Yet another callback module has been added in
            order to allow customized handling of error, warning and
            info messages. See the new configuration parameter,
            logger.</p>
          <p>
            [tftp] Yet another configuration parameter, max_retries,
            has been added in order to control the number of times a
            packet can be resent. The default is 5.</p>
          <p>
            [tftp] tftp:info/1 and tftp:change_config/2 can now be
            applied to all daemons or all servers in one command
            without bothering about their process identifiers.</p>
          <p>
            External TR HI89527.</p>
          <p>
            Own Id: OTP-7266</p>
        </item>
      </list>
    </section>

</section>

<section><title>Inets 5.0.5</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            [tftp] Blocks with too low block numbers are silently
            discarded. For example if a server receives block #5 when
            it expects block #7 it will discard the block without
            interrupting the file transfer. Too high block numbers
            does still imply an error. External TR HI96072.</p>
          <p>
            Own Id: OTP-7220</p>
        </item>
        <item>
          <p>
            [tftp] The problem with occasional case_clause errors in
            tftp_engine:common_read/7 has been fixed. External TR
            HI97362.</p>
          <p>
            Own Id: OTP-7221</p>
        </item>
      </list>
    </section>

</section>

  <section><title>Inets 5.0.4</title>
  
      <section><title>Improvements and New Features</title>
	<list>
	  <item>
	    <p>
	      Changed calls to file open to concur with the API and not
	      use deprecated syntax.</p>
	    <p>
	      Own Id: OTP-7172</p>
	  </item>
	  <item>
	    <p>
	      [tftp] Server lost the first packet when the client timed
	      out</p>
	    <p>
	      Own Id: OTP-7173</p>
	  </item>
	</list>
      </section>
  
  </section>

  <section><title>Inets 5.0.3</title>
  
    <section><title>Improvements and New Features</title>
    <list>
        <item>
          <p>
	    Updated copyright headers and fixed backwards
	    compatibility for an undocumented feature, for now. This
	    feature will later be removed and a new and documented
	    option will take its place.</p>
	  <p>
	  Own Id: OTP-7144</p>
        </item>
    </list>
    </section>

  </section>

  <section><title>Inets 5.0.2</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            [httpd] - Error logs now has a pretty and a compact
            format and access logs can be written on the common log
            format or the extended common log format.</p>
          <p>
            Own Id: OTP-6661 Aux Id: Seq 7764 </p>
        </item>
        <item>
          <p>
            [httpc] - Added acceptance of missing reason phrase to
            the relaxed mode.</p>
          <p>
            Own Id: OTP-7024</p>
        </item>
        <item>
          <p>
            [httpc] - A new option has been added to enable the
            client to act as lower version clients, by default the
            client is an HTTP/1.1 client.</p>
          <p>
            Own Id: OTP-7043</p>
        </item>
      </list>
    </section>

  </section>
  
  <section><title>Inets 5.0.1</title>
    
    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            [httpd] - Deprecated function httpd:start/1 did not
            accept all inputs that it had done previously. This
            should now work again.</p>
          <p>
            Own Id: OTP-7040</p>
        </item>
      </list>
    </section>
    
    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            [httpd] - Changed validity check on bind_address so that
            it uses inet:getaddr instead of inet:gethostbyaddr as the
            former puts a too hard restriction on the bind_address.</p>
          <p>
            Own Id: OTP-7041 Aux Id: seq10829 </p>
        </item>
        <item>
          <p>
            [httpc] - Internal process now does try-catch and
            terminates normally in case of HTTP parse errors.
            Semantical the client works just as before returning an
            error message to the client, even if the error massage
            has been enhanced, but there is no supervisor report in
            the shell of a internal process crashing. (Which was the
            expected behavior and not a fault.)</p>
          <p>
            Own Id: OTP-7042</p>
        </item>
      </list>
    </section>

  </section>

  <section><title>Inets 5.0</title>
    
    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            [httpd, httpc] - Deprecated base64 decode/encode
            functions have been removed. Inets uses base64 in STDLIB
            instead.</p>
          <p>
            *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
            Own Id: OTP-6485</p>
        </item>
        <item>
          <p>
            [httpd] - It is now possible to restrict the length of
            acceptable URI:s in the HTTP server.</p>
          <p>
            Own Id: OTP-6572</p>
        </item>
        <item>
          <p>
            [httpc] - Profiles are now supported i.e. the options
            available in set_options/1 can be set locally for a
            certain profile and do not have to affect all
            HTTP-requests issued in the Erlang node. Calls to the
            HTTP client API functions not using the profile argument
            will use the default profile.</p>
          <p>
            Own Id: OTP-6690</p>
        </item>
        <item>
          <p>
            A new uniform Inets interface provides a flexible way to
            start/stop Inets services and get information about
            running services. See inets(3). This also means that
            inflexibilities in the HTTP server has been removed and
            more default values has been added.</p>
          <p>
            Own Id: OTP-6705</p>
        </item>
        <item>
          <p>
            [tftp] Logged errors have been changed to be logged
            warnings.</p>
          <p>
            Own Id: OTP-6916 Aux Id: seq10737 </p>
        </item>
        <item>
          <p>
            [httpc] - The client will now return the proper value
            when receiving a HTTP 204 code instead of hanging.</p>
          <p>
            Own Id: OTP-6982</p>
        </item>
        <item>
          <p>
            The Inets application now has to be explicitly started
            and stopped i.e. it will not automatically be started as
            a temporary application as it did before. Although a
            practical feature when testing things in the shell it is
            not desirable that people take advantage of this and not
            start the Inets application in a correct way in their
            products. Added functions to the Inets API that call
            application:start/stop.</p>
          <p>
            *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
            Own Id: OTP-6993</p>
        </item>
      </list>
    </section> 
  
    <!-- p>For information about older versions see
      <url href="part_notes_history_frame.html">release notes history</url>.</p -->
  </section>
</chapter>


